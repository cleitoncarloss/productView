<x-header>
  <x-button variant="link">
    <x-icon use="arrow_left_alt"></x-icon>
    <x-redirect href="/" on="x-button/click:method/go"></x-redirect>
  </x-button>
</x-header>

<x-container>
  <x-stack style="height:calc(100vh - 144px)" align="center" justify="center">
    <x-render style="align-items: center">
      <template>
        <x-card width="md">
          <x-stack direction="column" width="fill">
            <x-stack align="center" justify="center" width="fill">
              <img src="{image}" height="200px" width="200px" />
            </x-stack>
            <x-stack direction="column" width="fill">
              <x-heading size="sm" weight="bold">{title}</x-heading>
              <x-text color="secondary" size="xl">R$ {price}</x-text>
            </x-stack>
          </x-stack>
        </x-card>
      </template>
      <x-on value="product/ok:method/render"></x-on>
    </x-render>
  </x-stack>
</x-container>

<x-fetch name="product" url="https://fakestoreapi.com/products/{}">
  <x-on value="x-macro/ok:method/get"></x-on>
  <x-macro execute='X.params.id' autorun></x-macro>
</x-fetch>

<x-macro name="selected" execute="X.params.id"></x-macro>
